name = "chatbot"
main = "src/index.ts"
compatibility_date = "2025-12-21"

# ===== DEV ENV =====
[env.dev]
name = "chatbot-dev"

[env.dev.durable_objects]
bindings = [
  { name = "CHAT_MEMORY", class_name = "ChatMemoryDO" }
]

[[env.dev.migrations]]
tag = "v1"
new_sqlite_classes = ["ChatMemoryDO"]

# ===== PROD ENV =====
[env.production]
name = "chatbot"

[env.production.durable_objects]
bindings = [
  { name = "CHAT_MEMORY", class_name = "ChatMemoryDO" }
]

[[env.production.migrations]]
tag = "v1"
new_sqlite_classes = ["ChatMemoryDO"]